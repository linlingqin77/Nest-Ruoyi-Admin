# Prisma 种子数据

## 说明

此文件包含 nest-admin 系统的初始化种子数据，用于在开发和测试环境中快速搭建基础数据。

## 包含的数据

1. **部门数据** (10条)
   - 若依科技、深圳总公司、长沙分公司等

2. **用户数据** (2条)
   - admin (超级管理员) - 密码: admin123
   - ry (普通用户) - 密码: admin123

3. **角色数据** (2条)
   - 超级管理员
   - 普通角色

4. **岗位数据** (4条)
   - 董事长、项目经理、人力资源、普通员工

5. **字典类型** (5条)
   - 用户性别、菜单状态、系统开关、系统是否、通知类型

6. **字典数据**
   - 性别字典、菜单显示状态等

7. **系统配置** (5条)
   - 主题配置、密码配置、验证码配置等

8. **菜单数据**
   - 系统管理模块菜单

9. **关联关系**
   - 用户-角色关联
   - 用户-岗位关联
   - 角色-菜单关联
   - 角色-部门关联

## 使用方法

### 1. 首次初始化数据库

```bash
# 推送 schema 到数据库
npm run prisma:db:push

# 运行种子数据
npm run prisma:seed
```

### 2. 重置数据库并重新初始化

```bash
# 重置数据库并自动运行种子数据
npm run prisma:reset
```

### 3. 仅运行种子数据

```bash
npm run prisma:seed
```

## 登录信息

初始化完成后，可以使用以下账号登录系统：

### 管理员账号
- 用户名: `admin`
- 密码: `admin123`
- 权限: 超级管理员，拥有所有权限

### 测试账号
- 用户名: `ry`
- 密码: `admin123`
- 权限: 普通角色

## 注意事项

1. 种子数据会使用 bcrypt 加密密码，默认密码为 `admin123`
2. 如果表中已存在数据，某些创建操作可能会失败（主键冲突）
3. 建议在开发环境使用 `prisma:reset` 命令完全重置数据库
4. 生产环境请谨慎使用种子数据，避免覆盖重要数据

## 扩展种子数据

如需添加更多初始数据，请编辑 `prisma/seed.ts` 文件，参考现有代码添加新的数据创建逻辑。

## 相关命令

- `npm run prisma:generate` - 生成 Prisma Client
- `npm run prisma:migrate` - 创建并应用迁移
- `npm run prisma:deploy` - 应用迁移（生产环境）
- `npm run prisma:seed` - 运行种子数据
- `npm run prisma:reset` - 重置数据库并运行种子数据
